<!--<div *ngIf="isAdmin">
    <input type="file" (change)="uploadDocument($event)" />
  </div>
  
  <div *ngIf="documents.length > 0">
    <div *ngFor="let document of documents">
      <p>{{ document.name }}</p>
      <div *ngIf="isAdmin">
        <button (click)="deleteDocument(document.id)">Delete</button>
      </div>
    </div>
  </div>
  
  <div *ngIf="documents.length === 0">
    <p>No documents available.</p>
  </div>-->
  <!--<div class="background"></div>
<div class="overlay"></div>
<div class="container">
  <div class="paper">
    <div *ngIf="previewUrl; else uploadSection">
      <iframe [src]="previewUrl | safeUrl" title="PDF Preview" style="width: 100%; height: 600px; border: none;"></iframe>
    </div>

    <ng-template #uploadSection>
      <h2 style="text-align: center; color: blue;">Importer un Document PDF</h2>
      <button *ngIf="isAdmin" class="btn btn-primary" (click)="fileInputRef.nativeElement.click()" style="text-align: center;">
        Importer un Document PDF
      </button>
      <input #fileInput type="file" accept="application/pdf" (change)="handleFileChange($event)" style="display: none;" multiple />
      
      <div *ngIf="pdfFiles.length > 0">
        <div class="paper">
          <ul>
            <li *ngFor="let file of pdfFiles" style="margin-bottom: 10px; display: flex; align-items: center;">
              <span style="flex-grow: 1;">{{ file.name }}</span>

             
              <button *ngIf="isAdmin" class="btn btn-danger" (click)="handleDelete(file.id)">
                Supprimer
              </button>
            </li>
          </ul>
        </div>
      </div>
    </ng-template>
  </div>
</div>-->
<div class="background"></div>
<div class="overlay"></div>
<app-appbar></app-appbar>
<div class="container">
  <div class="paper">
    <div *ngIf="previewUrl; else uploadSection">
      <button class="btn btn-primary" (click)="handleBack()">Retour à la Liste</button>
      <iframe [src]="previewUrl | safeUrl" title="PDF Preview" style="width: 100%; height: 600px; border: none;"></iframe>
    </div>
    <ng-template #uploadSection>
      <div *ngIf="userRole === 'ADMIN'">
        <h2 style="text-align: center; color: blue;">Importer un Document PDF</h2>
        <button class="btn btn-primary" (click)="handleImportClick()" style="text-align: center;">Importer un Document PDF</button>
      </div>
      <input #fileInput type="file" accept="application/pdf" (change)="handleFileChange($event)" style="display: none;" multiple />
      <div *ngIf="pdfFiles.length > 0">
        <div class="paper">
          <ul>
            <li *ngFor="let file of pdfFiles" style="margin-bottom: 10px; display: flex; align-items: center;">
              <span style="flex-grow: 1;">{{ file.name }}</span>
              <button class="btn btn-secondary" (click)="handlePreview(file.id)">ouvrir</button>
              <button class="btn btn-primary" (click)="handleDownload(file.id, file.name)">télécharger</button>
              <div *ngIf="userRole === 'ADMIN'">
                <button class="btn btn-danger" (click)="handleDelete(file.id)">supprimer</button>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </ng-template>
  </div>
</div>
